<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <title>01 - Promises Intro</title>
    </head>
    <body>

        <script>
            //Facilita o trabalho com dados assÃ­ncronos
            /*var defer = new Promise( (resolve, reject) => {
                if(false) {
                    resolve('Hello It works!');
                } else {
                    reject('Error');
                }
            });

            defer
                .then((data) => console.log(data))
                .catch((data) => console.log(data));
            */
            
            var defer = new Promise((resolve, reject) => {
                setTimeout(() => {
                    if(true) {
                        resolve('Hello It works!');
                    } else {
                        reject('Error!');
                    }
                }, 2000);
            });

            defer
                .then((data) => {
                    console.log(data);
                    return 'foo';
                })
                .then((data) => console.log(data))
                .catch((data) => console.log('Error'));

        </script>
    </body>
</html>